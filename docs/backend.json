
{
  "entities": {
    "Company": {
      "title": "Company",
      "type": "object",
      "description": "Core company profile and login credentials.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "password": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" },
        "capitalLimit": { "type": "number" },
        "capitalPeriod": { "type": "string", "enum": ["daily", "weekly", "monthly", "yearly"] },
        "capitalStartDate": { "type": "string", "format": "date" },
        "capitalEndDate": { "type": "string", "format": "date" },
        "duitNowQr": { "type": "string" }
      },
      "required": ["id", "name", "email", "createdAt"]
    },
    "User": {
      "title": "User",
      "type": "object",
      "description": "User account records for manual login system.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "username": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "password": { "type": "string" },
        "role": { "type": "string", "enum": ["admin", "company", "viewer"] },
        "companyId": { "type": "string" }
      },
      "required": ["id", "name", "email", "password", "role"]
    },
    "Product": {
      "title": "Product",
      "type": "object",
      "description": "Retail products or service materials.",
      "properties": {
        "id": { "type": "string" },
        "companyId": { "type": "string" },
        "serviceTypeId": { "type": "string", "description": "Optional link to a service category." },
        "name": { "type": "string" },
        "costPrice": { "type": "number" },
        "sellingPrice": { "type": "number" },
        "stock": { "type": "number" },
        "sku": { "type": "string" },
        "barcode": { "type": "string" },
        "unit": { "type": "string" }
      }
    },
    "ServiceType": {
      "title": "ServiceType",
      "type": "object",
      "description": "Broad categories of services offered by the business.",
      "properties": {
        "id": { "type": "string" },
        "companyId": { "type": "string" },
        "name": { "type": "string" },
        "description": { "type": "string" },
        "duitNowQr": { "type": "string" }
      }
    },
    "ServicePriceBundle": {
      "title": "ServicePriceBundle",
      "type": "object",
      "description": "Standardized pricing packages within a service type.",
      "properties": {
        "id": { "type": "string" },
        "serviceTypeId": { "type": "string" },
        "companyId": { "type": "string" },
        "name": { "type": "string" },
        "price": { "type": "number" },
        "estimatedProfit": { "type": "number" }
      }
    },
    "LaundryInventory": {
      "title": "LaundryInventory",
      "type": "object",
      "description": "Consumables for laundry services.",
      "properties": {
        "id": { "type": "string" },
        "companyId": { "type": "string" },
        "soapStockMl": { "type": "number" },
        "soapCostPerLitre": { "type": "number" },
        "capacityMl": { "type": "number" },
        "category": { "type": "string", "enum": ["student", "payable"] },
        "lastBottleCost": { "type": "number" },
        "lastBottleVolume": { "type": "number" }
      }
    },
    "Coupon": {
      "title": "Coupon",
      "type": "object",
      "description": "Promotional discounts for POS.",
      "properties": {
        "id": { "type": "string" },
        "companyId": { "type": "string" },
        "code": { "type": "string" },
        "value": { "type": "number" },
        "expiryDate": { "type": "string", "format": "date" },
        "status": { "type": "string", "enum": ["unused", "used"] }
      }
    },
    "LaundryStudent": {
      "title": "LaundryStudent",
      "type": "object",
      "description": "Student laundry subscribers.",
      "properties": {
        "id": { "type": "string" },
        "companyId": { "type": "string" },
        "name": { "type": "string" },
        "matrixNumber": { "type": "string" },
        "balance": { "type": "number" },
        "level": { "type": "number" },
        "class": { "type": "string" }
      }
    },
    "LaundryLevelConfig": {
      "title": "LaundryLevelConfig",
      "type": "object",
      "description": "Fee and quota settings per level.",
      "properties": {
        "id": { "type": "string" },
        "companyId": { "type": "string" },
        "level": { "type": "number" },
        "subscriptionFee": { "type": "number" },
        "totalWashesAllowed": { "type": "number" }
      }
    },
    "LaundrySchedule": {
      "title": "LaundrySchedule",
      "type": "object",
      "description": "Dates assigned for laundry usage by level.",
      "properties": {
        "id": { "type": "string" },
        "date": { "type": "string", "format": "date" },
        "level": { "type": "number" }
      }
    },
    "LuckyDrawEntry": {
      "title": "LuckyDrawEntry",
      "type": "object",
      "description": "Customers eligible for events.",
      "properties": {
        "id": { "type": "string" },
        "companyId": { "type": "string" },
        "customerName": { "type": "string" },
        "transactionId": { "type": "string" },
        "eventId": { "type": "string" },
        "amount": { "type": "number" },
        "timestamp": { "type": "string", "format": "date-time" }
      }
    },
    "LuckyDrawEvent": {
      "title": "LuckyDrawEvent",
      "type": "object",
      "description": "Marketing events for customer engagement.",
      "properties": {
        "id": { "type": "string" },
        "companyId": { "type": "string" },
        "name": { "type": "string" },
        "minSpend": { "type": "number" },
        "isActive": { "type": "boolean" },
        "createdAt": { "type": "string", "format": "date-time" }
      }
    }
  },
  "auth": {
    "providers": ["password", "anonymous"]
  },
  "firestore": {
    "/companies/{companyId}": {
      "schema": "Company",
      "description": "Root company data."
    },
    "/company_users/{userId}": {
      "schema": "User",
      "description": "Manual login lookup records."
    },
    "/companies/{companyId}/products/{productId}": {
      "schema": "Product",
      "description": "Retail stock and service materials."
    },
    "/companies/{companyId}/serviceTypes/{serviceId}": {
      "schema": "ServiceType",
      "description": "Service categories."
    },
    "/companies/{companyId}/serviceTypes/{serviceId}/priceBundles/{bundleId}": {
      "schema": "ServicePriceBundle",
      "description": "Fixed packages for a service."
    },
    "/companies/{companyId}/coupons/{couponId}": { "schema": "Coupon", "description": "Promotional codes." },
    "/companies/{companyId}/laundryStudents/{studentId}": { "schema": "LaundryStudent", "description": "Student laundry accounts." },
    "/companies/{companyId}/laundryInventory/{inventoryId}": { "schema": "LaundryInventory", "description": "Soap stocks." },
    "/companies/{companyId}/laundryLevelConfigs/{configId}": { "schema": "LaundryLevelConfig", "description": "Quota settings." },
    "/companies/{companyId}/laundrySchedules/{scheduleId}": { "schema": "LaundrySchedule", "description": "Scheduled laundry days." },
    "/companies/{companyId}/luckyDraws/{entryId}": { "schema": "LuckyDrawEntry", "description": "Event participant list." },
    "/companies/{companyId}/luckyDrawEvents/{eventId}": { "schema": "LuckyDrawEvent", "description": "Business marketing events." },
    "/companies/{companyId}/transactions/{transactionId}": { "schema": "SaleTransaction", "description": "Cross-module ledger." },
    "/companies/{companyId}/purchases/{purchaseId}": { "schema": "CapitalPurchase", "description": "Stock replenishment logs." }
  }
}
